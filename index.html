<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Base64 Image Display</title>
</head>
<body>
  <h2>Base64 Image Display</h2>
  <img id="image" alt="Uploaded Image" style="max-width: 100%;"/>

  <script>
    function updateImage(base64Image) {
      if (base64Image) {
        document.getElementById('image').src = 'data:image/jpeg;base64,' + base64Image;
      } else {
        document.getElementById('image').alt = "No image received!";
      }
    }

    // Listen every time the WebViewString changes
    window.AppInventor.setWebViewString = function(base64Image) {
      updateImage(base64Image);
    }

    // Also set initially if already present
    window.onload = function() {
      let base64Image = window.AppInventor.getWebViewString();
      updateImage(base64Image);
    }
  </script>
</body>
</html>
